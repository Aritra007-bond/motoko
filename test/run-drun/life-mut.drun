# like life.drun, but using mutable stable state
# too slow for ic-ref:
# SKIP ic-ref-run

install ic:2A012B life-mut/life-v1.mo ""
ingress ic:2A012B advance "DIDL\x00\x01\x7d\x0F"
query ic:2A012B show "DIDL\x00\x00"
# self-upgrade from life-v1
upgrade ic:2A012B life-mut/life-v1.mo ""
query ic:2A012B show "DIDL\x00\x00"
ingress ic:2A012B advance "DIDL\x00\x01\x7d\x0F"
query ic:2A012B show "DIDL\x00\x00"
# upgrade from life-v1 to life-v2
upgrade ic:2A012B life-mut/life-v2.mo ""
query ic:2A012B show "DIDL\x00\x00"
ingress ic:2A012B advance "DIDL\x00\x01\x7d\x01"
query ic:2A012B show "DIDL\x00\x00"
# self-upgrade from life-v2
upgrade ic:2A012B life-mut/life-v2.mo ""
query ic:2A012B show "DIDL\x00\x00"
ingress ic:2A012B advance "DIDL\x00\x01\x7d\x0F"
query ic:2A012B show "DIDL\x00\x00"
